<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nonachips</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
        <!-- SEO & Social -->
        <meta name="description" content="Nonachips - Kue bawang kriuk artisan. Nikmati camilan gurih dengan bawang lokal berkualitas. Pesan sekarang via WhatsApp.">
        <meta name="keywords" content="nonachips, kue bawang, camilan, onion chips, kriuk, pesen online, snack indonesia">
        <meta name="author" content="Nonachips">
        <meta property="og:image" content="https://putraajalahya.github.io/Nonachips/nonachip.png">
        <meta name="robots" content="index, follow">
        <link rel="canonical" href="/">
        <meta name="theme-color" content="#D35400">

        <!-- Open Graph -->
        <meta property="og:title" content="Nonachips | Kue Bawang Kriuk">
        <meta property="og:description" content="Nonachips - Kue bawang kriuk artisan. Nikmati camilan gurih dengan bawang lokal berkualitas.">
        <meta property="og:image" content="https://putraajalahya.github.io/Nonachips/nonachip.png">
        <meta property="og:type" content="product">
        <meta property="og:site_name" content="Nonachips">
        <meta property="og:url" content="/">

        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Nonachips | Kue Bawang Kriuk">
        <meta name="twitter:description" content="Nonachips - Kue bawang kriuk artisan. Nikmati camilan gurih dengan bawang lokal berkualitas.">
        <meta name="twitter:image" content="https://putraajalahya.github.io/Nonachips/nonachip.png">

        <!-- Icons / favicon -->
        <link rel="icon" href="https://putraajalahya.github.io/Nonachips/nonachip.png" type="image/png">
        <link rel="apple-touch-icon" href="https://putraajalahya.github.io/Nonachips/nonachip.png">

        <!-- Structured Data (JSON-LD) -->
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Store",
            "name": "Nonachips",
            "image": "nonachip.png",
            "telephone": "+6281268089520",
            "url": "https://example.com",
            "description": "Nonachips - Kue bawang kriuk artisan. Pesan online melalui WhatsApp.",
            "sameAs": [
                "https://instagram.com/Nonachips_",
                "https://wa.me/6281268089520"
            ],
            "address": {
                "@type": "PostalAddress",
                "addressLocality": "Indonesia"
            }
        }
        </script>
</head>
<body>
    <header class="hero">
        <div class="overlay"></div>
        <div class="hero-content">
            <div class="logo-container">
                <img src="nonachip.png" alt="Onion Cakes Logo" class="logo-img">
            </div>
            <h1>Nona Chips</h1>
            <p class="tagline">Crispy | Savory | Unforgettable</p>
            <a href="#products" class="cta-button">Pesan Sekarang</a>
        </div>
    </header>

    <main>
        <section id="about" class="container">
            <div class="section-header">
                <h2>The Perfect Bite</h2>
                <div class="divider"></div>
            </div>
            <div class="about-content">
                <p>Selamat datang di Nonachips.
                    Kami menghadirkan kue bawang berkualitas dengan cita rasa autentik, diproses secara higienis untuk menemani setiap momen Anda dengan camilan yang berkesan.</p>
            </div>
        </section>

        <section id="products" class="container bg-light">
            <div class="section-header">
                <h2>Choose Your Size</h2>
                <div class="divider"></div>
            </div>
            <div class="product-grid">
                <div class="product-card" data-size="1.000 ml" data-price="Rp 20.000">
                    <div class="card-image">
                        <img src="111.jpeg" alt="Small Onion Cake" class="product-img">
                    </div>
                    <div class="card-details">
                        <h3>1.000 ml <span class="price">Rp 20.000</span></h3>
                        <p><b>Pas di Kantong, Tetap Kriuk Maksimal</b><br>
                            Ukuran praktis buat camilan harian. Cocok buat nemenin santai, nonton, atau ngemil tanpa mikir panjang.</p>
                        <div class="card-actions">
                            <button class="btn order-btn">Pesan</button>
                        </div>
                    </div>
                </div>
                <div class="product-card featured" data-size="1.300 ml" data-price="Rp 35.000">
                    <div class="card-image">
                        <img src="111.jpeg" alt="Medium Onion Cake" class="product-img">
                    </div>
                    <div class="card-details">
                        <h3>1.300 ml <span class="price">Rp 35.000</span></h3>
                       <p><b>Lebih Banyak, Lebih Puas</b><br>
                            Isi lebih banyak dengan kriuk yang tetap konsisten. Pilihan pas buat sharing bareng keluarga atau teman.</p>
                        <div class="card-actions">
                            <button class="btn order-btn">Pesan</button>
                        </div>
                    </div>
                </div>
                <div class="product-card" data-size="1.500 ml" data-price="Rp 45.000">
                    <div class="card-image">
                        <img src="111.jpeg" alt="Large Onion Cake" class="product-img">
                    </div>
                    <div class="card-details">
                        <h3>1.500 ml <span class="price">Rp 45.000</span></h3>
                        <p><b>Paling Besar, Paling Nagih</b><br>
                            Ukuran jumbo untuk pencinta kue bawang sejati. Cocok buat acara, stok di rumah, atau dibagi rame-rame.</p>
                        <div class="card-actions">
                            <button class="btn order-btn">Pesan</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="container">
            <div class="section-header">
                <h2>Get In Touch</h2>
                <div class="divider"></div>
            </div>
            <p class="contact-intro">Craving our chips? Order easily through WhatsApp or explore our newest creations on Instagram.</p>
            <div class="contact-links">
                <a href="#" id="waButton" data-phone="6281268089520" class="btn whatsapp">
                    <i class="fa-brands fa-whatsapp"></i> Order on WhatsApp
                </a>
                <a href="https://instagram.com/Nonachips_" target="_blank" class="btn instagram">
                    <i class="fa-brands fa-instagram"></i> Follow @Nonachips_
                </a>
            </div>
        </section>
    </main>

    <!-- Order Modal -->
    <div id="orderModal" class="modal" aria-hidden="true">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" aria-label="Close">&times;</button>
            <h3>Isi Pesanan</h3>
            <form id="orderForm">
                <label for="customerName">Nama</label>
                <input type="text" id="customerName" name="customerName" required>

                <label>Ukuran (pilih satu atau lebih)</label>
                <div id="sizeOptions" class="size-options" aria-label="Pilih ukuran"></div>

                <div style="display:flex;align-items:center;gap:12px;margin-top:0.75rem;">
                    <label for="orderTotal" style="font-weight:600;margin:0;">Total</label>
                    <output id="orderTotal" name="orderTotal">Rp 0</output>
                </div>

                <!-- Per-size quantities handled per option -->

                <div class="modal-actions">
                    <button type="button" class="btn" id="cancelBtn">Batal</button>
                    <button type="submit" class="btn whatsapp">Kirim via WhatsApp</button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <p>Website created on: Thursday, 26 December 2025</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cards = Array.from(document.querySelectorAll('.product-card'));
            const waButton = document.getElementById('waButton');
            const modal = document.getElementById('orderModal');
            const overlay = modal.querySelector('.modal-overlay');
            const closeBtn = modal.querySelector('.modal-close');
            const cancelBtn = document.getElementById('cancelBtn');
            const orderForm = document.getElementById('orderForm');
            const nameInput = document.getElementById('customerName');
            const sizeOptionsContainer = document.getElementById('sizeOptions');

            // Build products data from cards
            const products = cards.map(c => ({
                size: (c.dataset.size || c.querySelector('h3')?.innerText || '').trim(),
                price: (c.dataset.price || c.querySelector('.price')?.innerText || '').trim(),
                card: c
            }));

            let activeIndex = 0;

            // No click-to-select on cards (feature removed)

            // Per-card order button opens modal and preselects that size
            document.querySelectorAll('.order-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const card = this.closest('.product-card');
                    const idx = products.findIndex(p => p.card === card);
                    if (idx >= 0) activeIndex = idx;
                    openModal();
                });
            });

            function parsePriceToNumber(priceText) {
                if (!priceText) return 0;
                // remove non digits
                const digits = priceText.replace(/[^0-9]/g, '');
                return parseInt(digits || '0', 10);
            }

            function formatRupiah(num) {
                return 'Rp ' + (num).toLocaleString('id-ID');
            }

            function buildSizeOptions(selectedIdx) {
                sizeOptionsContainer.innerHTML = products.map((p, i) => {
                    const unit = p.price;
                    return `
                        <label class="size-option" data-index="${i}">
                            <input type="checkbox" name="sizeCheck" data-index="${i}" />
                            <span class="size-label">${p.size}</span>
                            <span class="size-price">${unit}</span>
                            <input type="number" class="size-qty" min="1" value="1" data-index="${i}" disabled />
                        </label>`;
                }).join('');

                // initialize price display and wire interactions using delegation
                const optionEls = sizeOptionsContainer.querySelectorAll('.size-option');
                optionEls.forEach(opt => {
                    const sizePriceEl = opt.querySelector('.size-price');
                    const idx = parseInt(opt.dataset.index, 10);
                    sizePriceEl.textContent = products[idx].price;
                    const qty = opt.querySelector('.size-qty');
                    qty.disabled = true;
                });

                function updateSubtotalForOption(opt) {
                    const checkbox = opt.querySelector('input[type="checkbox"]');
                    const qty = opt.querySelector('.size-qty');
                    const sizePriceEl = opt.querySelector('.size-price');
                    const idx = parseInt(opt.dataset.index, 10);
                    const unitPrice = parsePriceToNumber(products[idx].price);
                    const q = Math.max(1, parseInt(qty.value || '1', 10));
                    const sub = checkbox.checked ? unitPrice * q : 0;
                    sizePriceEl.textContent = checkbox.checked ? formatRupiah(sub) : products[idx].price;
                }

                sizeOptionsContainer.addEventListener('change', function (e) {
                    const target = e.target;
                    const opt = target.closest('.size-option');
                    if (!opt) return;
                    if (target.type === 'checkbox') {
                        const checkbox = opt.querySelector('input[type="checkbox"]');
                        const qty = opt.querySelector('.size-qty');
                        qty.disabled = !checkbox.checked;
                        if (!checkbox.checked) qty.value = 1;
                        updateSubtotalForOption(opt);
                        computeTotal();
                    }
                });

                sizeOptionsContainer.addEventListener('input', function (e) {
                    const target = e.target;
                    if (!target.classList.contains('size-qty')) return;
                    const opt = target.closest('.size-option');
                    if (!opt) return;
                    if (target.value === '' || parseInt(target.value, 10) < 1) target.value = 1;
                    updateSubtotalForOption(opt);
                    computeTotal();
                });

                // if a particular product was preselected (activeIndex), check it
                const pre = sizeOptionsContainer.querySelector(`.size-option[data-index="${selectedIdx}"]`);
                if (pre) {
                    const cb = pre.querySelector('input[type="checkbox"]');
                    const qty = pre.querySelector('.size-qty');
                    cb.checked = true;
                    qty.disabled = false;
                    updateSubtotalForOption(pre);
                }

                // initial compute
                computeTotal();
            }

            function computeTotal() {
                const optionEls = sizeOptionsContainer.querySelectorAll('.size-option');
                let total = 0;
                optionEls.forEach(opt => {
                    const idx = parseInt(opt.dataset.index, 10);
                    const checkbox = opt.querySelector('input[type="checkbox"]');
                    const qty = opt.querySelector('.size-qty');
                    const unitPrice = parsePriceToNumber(products[idx].price);
                    if (checkbox.checked) {
                        const q = Math.max(1, parseInt(qty.value || '1', 10));
                        total += unitPrice * q;
                    }
                });
                const totalEl = document.getElementById('orderTotal');
                totalEl.textContent = formatRupiah(total);
            }

            function openModal() {
                if (!products.length) { alert('Tidak ada produk.'); return; }
                buildSizeOptions(activeIndex);
                nameInput.value = '';
                modal.classList.add('open');
                modal.setAttribute('aria-hidden', 'false');
            }

            function closeModal() {
                modal.classList.remove('open');
                modal.setAttribute('aria-hidden', 'true');
            }

            // WA button in header still opens modal (default)
            waButton.addEventListener('click', function (e) {
                e.preventDefault();
                activeIndex = 0; // default to first product
                openModal();
            });

            overlay.addEventListener('click', closeModal);
            closeBtn.addEventListener('click', closeModal);
            cancelBtn.addEventListener('click', closeModal);

            orderForm.addEventListener('submit', function (e) {
                e.preventDefault();
                const name = nameInput.value.trim();
                if (!name) { nameInput.focus(); return; }
                // collect selected sizes
                const optionEls = sizeOptionsContainer.querySelectorAll('.size-option');
                const selections = [];
                optionEls.forEach(opt => {
                    const idx = parseInt(opt.dataset.index, 10);
                    const checkbox = opt.querySelector('input[type="checkbox"]');
                    const qty = parseInt(opt.querySelector('.size-qty').value || '1', 10);
                    if (checkbox.checked) {
                        selections.push({ size: products[idx].size, qty, unitPrice: parsePriceToNumber(products[idx].price) });
                    }
                });
                if (!selections.length) { alert('Pilih minimal satu ukuran.'); return; }
                // build message
                let lines = selections.map(s => `${s.size} x${s.qty} = ${formatRupiah(s.unitPrice * s.qty)}`);
                const total = selections.reduce((acc, s) => acc + s.unitPrice * s.qty, 0);
                lines.push('Total: ' + formatRupiah(total));
                const phone = waButton.dataset.phone || '6281268089520';
                const message = `Halo, saya ${name} ingin pesan:\n` + lines.join('\n') + '\nTerima kasih.';
                const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
                window.open(url, '_blank');
                closeModal();
            });
        });
    </script>
</body>
</html>
